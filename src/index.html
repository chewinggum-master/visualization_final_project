<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="windows-1252">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify 2024 Streamed Songs Visualization</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <div class="main-container">
        <!-- Left Panel: Artist Selection -->
        <div class="left-panel">
            <div class="panel-header">
                <h2>Artists</h2>
                <p class="subtitle">Press Ctrl/Command to multi-select artists for comparison</p>
                <input type="text" id="artist-search" placeholder="Search artist..." style="margin-top: 10px; width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; font-size: 0.9em;">
                <select id="artist-sort-select" style="margin-top: 10px; width: 100%; padding: 5px;">
                    <option value="streams">Sort by: Stream</option>
                    <option value="count">Sort by: Song Count</option>
                    <option value="alpha">Sort by: Name (A-Z)</option>
                </select>
                <button id="reset-filter" style="margin-top: 10px; width: 100%; padding: 5px;">Show All Artists</button>
            </div>
            <div id="artist-list-container">
                <!-- Artist items will be populated here -->
            </div>
        </div>

        <!-- Middle Panel: Platform Selection and Song List -->
        <div class="middle-panel">
            <div class="top-controls">
                <input type="text" id="song-search" placeholder="Search song..." style="flex: 1; padding: 8px; border: 1px solid #ccc; border-radius: 4px; font-size: 0.9em; margin-right: 10px;">
                <div class="control-group">
                    <label for="platform-select" style="white-space: nowrap;">Sort by:</label>
                    <select id="platform-select">
                        <option value="Spotify">Spotify</option>
                        <option value="YouTube">YouTube</option>
                        <option value="TikTok">TikTok</option>
                        <option value="Pandora">Pandora</option>
                        <option value="Soundcloud">Soundcloud</option>
                        <option value="Shazam">Shazam</option>
                    </select>
                </div>
            </div>
            
            <div class="list-header">
                <span class="rank-col">#</span>
                <span class="song-col">Song</span>
                <span class="value-col">Stream</span>
            </div>
            <div id="song-list-container">
                <!-- Song items will be populated here -->
            </div>
        </div>

        <!-- Right Panel: Pie Charts -->
        <div class="right-panel charts-panel">
            <div class="chart-section top-chart">
                <svg id="artist-pie" aria-label="Artist songs share"></svg>
            </div>
            <div class="chart-section bottom-chart">
                <svg id="platform-pie" aria-label="Platform totals"></svg>
            </div>
            <!-- Artist color legend (bottom-right) -->
            <div id="artist-legend" class="artist-legend" aria-label="Selected artists legend"></div>
        </div>
    </div>

    <script src="d3.js"></script>
</body>
</html>
